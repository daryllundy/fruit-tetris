<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes">
    <title>Fruit Tetris</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div id="game-container">
        <!-- Main Menu -->
        <div id="main-menu" class="screen">
            <h1>üçé Fruit Tetris üçå</h1>
            <div class="menu-buttons">
                <button id="play-btn" class="menu-button">Play</button>
                <button id="settings-btn" class="menu-button">Settings</button>
                <button id="instructions-btn" class="menu-button">Instructions</button>
                <button id="mute-btn" class="menu-button">üîä Sound</button>
            </div>
        </div>

        <!-- Settings Screen -->
        <div id="settings-screen" class="screen hidden">
            <h2>Settings</h2>
            <div class="settings-content">
                <div class="setting-item">
                    <label for="particles-toggle">Particle Effects</label>
                    <input type="checkbox" id="particles-toggle" checked>
                </div>
                <div class="setting-item">
                    <label for="shake-toggle">Screen Shake</label>
                    <input type="checkbox" id="shake-toggle" checked>
                </div>
                <div class="setting-item">
                    <label for="intensity-slider">Effects Intensity: <span id="intensity-value">100%</span></label>
                    <input type="range" id="intensity-slider" min="0" max="200" value="100">
                </div>
            </div>
            <button id="settings-back-btn" class="menu-button">Back to Menu</button>
        </div>

        <!-- Instructions Screen -->
        <div id="instructions" class="screen hidden">
            <h2>How to Play</h2>
            <div class="instructions-content">
                <h3>Controls:</h3>
                <div class="controls-grid">
                    <div class="control-item">
                        <strong>‚Üê ‚Üí</strong> Move left/right
                    </div>
                    <div class="control-item">
                        <strong>‚Üì</strong> Soft drop
                    </div>
                    <div class="control-item">
                        <strong>Space</strong> Hard drop
                    </div>
                    <div class="control-item">
                        <strong>Z / X</strong> Rotate left/right
                    </div>
                    <div class="control-item">
                        <strong>C</strong> Hold piece
                    </div>
                    <div class="control-item">
                        <strong>P</strong> Pause
                    </div>
                </div>
                <h3>Mobile Controls:</h3>
                <p>‚Ä¢ <strong>Tap left side</strong> of screen to move piece left</p>
                <p>‚Ä¢ <strong>Tap right side</strong> of screen to move piece right</p>
                <p>‚Ä¢ <strong>Tap on the piece</strong> to rotate it</p>
                <p>‚Ä¢ <strong>Swipe down</strong> for soft drop</p>
                <p>‚Ä¢ <strong>Double-tap</strong> for hard drop</p>
                <p>‚Ä¢ <strong>Swipe left/right</strong> also moves pieces</p>
                <h3>üçé Fruit Combo System:</h3>
                <p>‚Ä¢ Create clusters of 3+ matching fruit types for bonus points</p>
                <p>‚Ä¢ Different patterns give different bonuses (lines, squares, crosses)</p>
                <p>‚Ä¢ Build bigger clusters for higher multipliers</p>
                <p>‚Ä¢ Chain combos to increase your multiplier up to 3x</p>
                <h3>Goal:</h3>
                <p>Complete horizontal lines to clear them and score points. Use strategic fruit placement for massive
                    combos!</p>
            </div>
            <button id="back-btn" class="menu-button">Back to Menu</button>
        </div>

        <!-- Game Screen -->
        <div id="game-screen" class="screen hidden">
            <!-- Game UI -->
            <div id="game-ui">
                <div class="ui-panel left-panel">
                    <div class="panel-section">
                        <h3>Hold</h3>
                        <canvas id="hold-canvas" width="120" height="120"></canvas>
                    </div>
                    <div class="panel-section">
                        <div class="score-item">
                            <label>Score:</label>
                            <span id="score">0</span>
                        </div>
                        <div class="score-item">
                            <label>Level:</label>
                            <span id="level">1</span>
                        </div>
                        <div class="score-item">
                            <label>Lines:</label>
                            <span id="lines">0</span>
                        </div>
                    </div>
                    <div class="panel-section combo-section">
                        <h3>üçé Combos</h3>
                        <div class="score-item">
                            <label>Total:</label>
                            <span id="total-combos">0</span>
                        </div>
                        <div class="score-item">
                            <label>Multiplier:</label>
                            <span id="combo-multiplier">1.0x</span>
                        </div>
                        <div class="score-item">
                            <label>Last:</label>
                            <span id="last-combo">-</span>
                        </div>
                    </div>
                    <div class="panel-section b2b-section">
                        <div id="b2b-indicator" class="b2b-indicator hidden">
                            <div class="b2b-badge">
                                <span class="b2b-text">BACK-TO-BACK</span>
                                <span class="b2b-multiplier">1.5x</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="game-area">
                    <canvas id="game-canvas" width="300" height="600"></canvas>
                    <div id="game-overlay" class="hidden">
                        <div id="pause-screen" class="hidden">
                            <h2>PAUSED</h2>
                            <p>Press P to resume</p>
                        </div>
                        <div id="game-over-screen" class="hidden">
                            <h2>GAME OVER</h2>
                            <p>Final Score: <span id="final-score">0</span></p>
                            <button id="restart-btn" class="game-button">Play Again</button>
                            <button id="menu-btn" class="game-button">Main Menu</button>
                        </div>
                    </div>
                </div>

                <div class="ui-panel right-panel">
                    <div class="panel-section">
                        <h3>Next</h3>
                        <canvas id="next-canvas" width="120" height="360"></canvas>
                    </div>
                    <div class="panel-section">
                        <button id="pause-btn" class="game-button">Pause</button>
                        <button id="quit-btn" class="game-button">Quit</button>
                    </div>
                </div>
            </div>

            <!-- Mobile Controls -->
            <div id="mobile-controls" class="mobile-only">
                <div class="mobile-buttons">
                    <button id="mobile-left" class="mobile-btn">‚Üê</button>
                    <button id="mobile-rotate" class="mobile-btn">‚Üª</button>
                    <button id="mobile-right" class="mobile-btn">‚Üí</button>
                </div>
                <div class="mobile-buttons secondary-controls">
                    <button id="mobile-hold" class="mobile-btn">Hold</button>
                    <button id="mobile-drop" class="mobile-btn">Hard Drop</button>
                    <button id="mobile-soft-drop" class="mobile-btn">Soft Drop</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="js/utils.js"></script>
    <script src="js/sound.js"></script>
    <script src="js/tetromino.js"></script>
    <script src="js/controls.js"></script>
    <script type="module" src="js/tetris.js"></script>
    <script type="module" src="js/effects.js"></script>
    <script src="js/main.js"></script>
</body>

</html>
